# 07 - è‡ªåŠ¨æ±‚å¯¼

---

### ğŸ¦ æœ¬èŠ‚è¯¾ç¨‹è§†é¢‘åœ°å€ ğŸ‘‰[Bilibil](https://www.bilibili.com/video/BV1KA411N7Px)

## 1.å‘é‡æ±‚å¯¼çš„é“¾å¼æ³•åˆ™

- æ ‡é‡é“¾å¼æ³•åˆ™

$$
y=f(u),u=g(x) \\
{{\partial{y}}\over{\partial{x}}}={{\partial{y}}\over{\partial{u}}}{{\partial{u}}\over{\partial{x}}}
$$

- å‘é‡é“¾å¼æ³•åˆ™(æ±‚å¯¼ç»“æœçš„ shape å¯ä»¥å‚è€ƒ[ç¬¬å…­è¯¾](./06-çŸ©é˜µè®¡ç®—.md))

$$
{{\partial{y}}\over{\partial{\bf{x}}}}={{\partial{y}}\over{\partial{u}}}{{\partial{u}}\over{\partial{\bf{x}}}} \\
(1,n)\ \ \ \ (1,)(1,n) \\
--- \\
{{\partial{y}}\over{\partial{\bf{x}}}}={{\partial{y}}\over{\partial{\bf{u}}}}{{\partial{\bf{u}}}\over{\partial{\bf{x}}}} \\
(1,n)\ \ \ \ (1,k)(k,n) \\
--- \\
{{\partial{\bf{y}}}\over{\partial{\bf{x}}}}={{\partial{\bf{y}}}\over{\partial{\bf{u}}}}{{\partial{\bf{u}}}\over{\partial{\bf{x}}}} \\
(m,n)\ \ \ \ (m,k)(k,n) \\
$$

- å‘é‡é“¾å¼æ³•åˆ™æ±‚å¯¼ç¤ºä¾‹ï¼š

å‡è®¾ï¼šå‘é‡ $\bf{x,w}\in\Bbb{R}^n,\ y\in\Bbb{R}$

$z=(\langle{\bf{x,w}}\rangle-y)^2$

æ±‚ ${\partial{z}}\over{\partial{\bf{w}}}$ ï¼Ÿ

ä»¤ï¼š

$$
a={\langle\bf{x,w}\rangle} \\
b={a-y} \\
z=b^2
$$

åˆ™ï¼š

$$
{\partial{z}\over{\partial{\bf{w}}}}=
{{\partial{z}\over{\partial{b}}}}
{{\partial{b}\over{\partial{a}}}}
{{\partial{a}\over{\partial{\bf{w}}}}
} \\
={{\partial{b^2}\over{\partial{b}}}}
{{\partial{a-y}\over{\partial{a}}}}
{\partial{{{\langle\bf{x,w}\rangle}}}\over{\partial{\bf{w}}}} \\
={2b\cdot1\cdot\bf{x}^T} \\
=2(\langle{\bf{x,w}}\rangle-y)\bf{x}^T
$$

- çŸ©é˜µé“¾å¼æ³•åˆ™æ±‚å¯¼ç¤ºä¾‹

å‡è®¾ï¼šçŸ©é˜µ $\bf{X}\in\Bbb{R}^{m\times{n}},\ \text{å‘é‡ }\bf{w}\in{\Bbb{R^n}},\ y\in\Bbb{R^m}$

$z=||\bf{Xw-y}||^2$

æ±‚ ${\partial{z}}\over{\partial{\bf{w}}}$ ï¼Ÿ

ä»¤ï¼š

$$
{\bf{a}=\bf{Xw}} \\
{\bf{b}=\bf{a-y}} \\
z=||\bf{b}||^2
$$

åˆ™ï¼š
$$
{\partial{z}\over{\partial{\bf{w}}}}=
{{\partial{z}\over{\partial{\bf{b}}}}}
{{\partial{\bf{b}}\over{\partial{\bf{a}}}}}
{{\partial{\bf{a}}\over{\partial{\bf{w}}}}
} \\
={{\partial{||\bf{b}||}^2\over{\partial{\bf{b}}}}}
{{\partial{\bf{a-y}}\over{\partial{\bf{a}}}}}
{\partial{{\bf{Xw}}}\over{\partial{\bf{w}}}}  \\  
={2\bf{b}^T\cdot\bf{I}\cdot\bf{X}} \\
=2({\bf{Xw}}-\bf{y})^T{\bf{X}}
$$

